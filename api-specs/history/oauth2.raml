#%RAML 1.0 SecurityScheme

description: |
  HTTP API authorization uses [OAuth2](https://datatracker.ietf.org/doc/html/rfc6750).

  Clients must obtain an access token from the auth service using one of
  the authorization flows described below, before they are able to make authorized requests
  to other Composable Commerce APIs. On successful completion of an authorization flow,
  a client will be given an `access_token`, which they need to include in requests
  to authorized service endpoints via the HTTP `Authorization` header.

  Scopes are used to grant an application different levels of access to data on behalf of the end user. Each API may declare one or more scopes.
type: OAuth 2.0
describedBy:
  headers:
    Authorization:
      description: |
        On successful completion of an authorization flow,
        a client will be given an `access_token`, which they need to include in requests
        to authorized service endpoints via the HTTP `Authorization` header like this:

        Authorization: Bearer {access_token}
      type: string
  responses:
    401:
      description: Unauthorized.
settings:
  (serviceRegions):
    - uri: https://auth.us-central1.gcp.commercetools.com/
      region: us-central1
      provider: gcp
      name: North America (Google Cloud, Iowa)
    #  - uri: https://auth.us-east-2.aws.commercetools.com/
    #    region: us-east-2
    #    provider: aws
    #    name: North America (AWS, Ohio)
    - uri: https://auth.europe-west1.gcp.commercetools.com
      region: europe-west1
      provider: gcp
      name: Europe (Google Cloud, Belgium)
  #  - uri: https://auth.eu-central-1.aws.commercetools.com
  #    region: eu-central-1
  #    provider: aws
  #    name: Europe (AWS, Frankfurt)
  #  - uri: https://auth.australia-southeast1.gcp.commercetools.com
  #    region: australia-southeast1
  #    provider: gcp
  #    name: Australia (Google Cloud, Sydney)
  authorizationUri: https://auth.europe-west1.gcp.commercetools.com/oauth/token
  accessTokenUri: https://auth.europe-west1.gcp.commercetools.com/oauth/token
  authorizationGrants: [client_credentials]
  scopes:
    - 'view_associate_roles:{projectKey}'
    - 'manage_associate_roles:{projectKey}'
    - 'view_audit_log:{projectKey}'
    - 'view_business_units:{projectKey}'
    - 'manage_business_units:{projectKey}'
    - 'view_business_units:{projectKey}:{storeKey}'
    - 'manage_business_units:{projectKey}:{storeKey}'
    - 'view_cart_discounts:{projectKey}'
    - 'manage_cart_discounts:{projectKey}'
    - 'view_cart_discounts:{projectKey}:{storeKey}'
    - 'manage_cart_discounts:{projectKey}:{storeKey}'
    - 'view_categories:{projectKey}'
    - 'manage_categories:{projectKey}'
    - 'view_customer_groups:{projectKey}'
    - 'manage_customer_groups:{projectKey}'
    - 'view_customers:{projectKey}'
    - 'manage_customers:{projectKey}'
    - 'view_customers:{projectKey}:{storeKey}'
    - 'manage_customers:{projectKey}:{storeKey}'
    - 'view_discount_codes:{projectKey}'
    - 'manage_discount_codes:{projectKey}'
    - 'manage_extensions:{projectKey}'
    - 'view_key_value_documents:{projectKey}'
    - 'manage_key_value_documents:{projectKey}'
    - 'view_orders:{projectKey}'
    - 'manage_orders:{projectKey}'
    - 'view_orders:{projectKey}:{storeKey}'
    - 'manage_orders:{projectKey}:{storeKey}'
    - 'view_payments:{projectKey}'
    - 'manage_payments:{projectKey}'
    - 'view_products:{projectKey}'
    - 'manage_products:{projectKey}'
    - 'view_product_selections:{projectKey}'
    - 'manage_product_selections:{projectKey}'
    - 'view_quote_requests:{projectKey}'
    - 'manage_quote_requests:{projectKey}'
    - 'view_quote_requests:{projectKey}:{storeKey}'
    - 'manage_quote_requests:{projectKey}:{storeKey}'
    - 'view_quotes:{projectKey}'
    - 'manage_quotes:{projectKey}'
    - 'view_quotes:{projectKey}:{storeKey}'
    - 'manage_quotes:{projectKey}:{storeKey}'
    - 'view_shopping_lists:{projectKey}'
    - 'manage_shopping_lists:{projectKey}'
    - 'view_shopping_lists:{projectKey}:{storeKey}'
    - 'manage_shopping_lists:{projectKey}:{storeKey}'
    - 'view_staged_quotes:{projectKey}'
    - 'manage_staged_quotes:{projectKey}'
    - 'view_staged_quotes:{projectKey}:{storeKey}'
    - 'manage_staged_quotes:{projectKey}:{storeKey}'
    - 'view_states:{projectKey}'
    - 'manage_states:{projectKey}'
    - 'view_stores:{projectKey}'
    - 'manage_stores:{projectKey}'
    - 'view_tax_categories:{projectKey}'
    - 'manage_tax_categories:{projectKey}'
    - 'view_types:{projectKey}'
    - 'manage_types:{projectKey}'
